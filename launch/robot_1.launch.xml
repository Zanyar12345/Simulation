<!--launch>

    <let name="urdf_path" value="$(find-pkg-share robot_1_description)/urdf/robot_1.urdf.xacro"/>


  <node pkg="robot_state_publisher" exec="robot_state_publisher">
<param name="robot_description" value="$(command 'xacro $(var urdf_path)')"/>  
</node>

  <node pkg="joint_state_publisher_gui" exec="joint_state_publisher_gui"/>

  <node pkg="rviz2" exec="rviz2"/> 

</launch-->

<launch>

  <let name="urdf_path"
       value="$(find-pkg-share robot_1_description)/urdf/robot_1.urdf.xacro"/>

  <node pkg="robot_state_publisher" exec="robot_state_publisher" output="screen">
    <param name="robot_description"
           value="$(command 'xacro $(var urdf_path)')"/>
  </node>

  <executable
    cmd="gazebo --verbose -s libgazebo_ros_factory.so"
    output="screen"/>

  <node pkg="gazebo_ros" exec="spawn_entity.py"
        args="-topic robot_description -entity robot_1"
        output="screen"/>

  <node pkg="controller_manager" exec="spawner"
        args="joint_state_broadcaster"
        output="screen"/>

  <node pkg="controller_manager" exec="spawner"
        args="wheel_velocity_controller"
        output="screen"/>

  <node pkg="controller_manager" exec="spawner"
        args="steer_position_controller"
        output="screen"/>

  <node pkg="joy" exec="joy_node"/>
  <node pkg="robot_1_description" exec="controller.py"/>
     
</launch>
